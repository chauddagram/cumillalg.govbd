<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>অ্যাডমিন প্যানেল - কুমিল্লা অনলাইন সেবা</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold text-center mb-8">অ্যাডমিন প্যানেল - ব্যবহারকারী অনুমোদন</h1>
        
        <div id="userList" class="bg-white rounded-lg shadow p-6">
            <!-- ইউজার লিস্ট এখানে লোড হবে -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const users = JSON.parse(localStorage.getItem('portalUsers')) || [];
            const userList = document.getElementById('userList');
            
            if (users.length === 0) {
                userList.innerHTML = '<p class="text-center text-gray-500">কোনো রেজিস্ট্রেশন আবেদন নেই।</p>';
                return;
            }
            
            let html = '<h2 class="text-xl font-bold mb-4">অনুমোদনের জন্য অপেক্ষমান ইউজার</h2>';
            
            users.forEach((user, index) => {
                html += `
                    <div class="border rounded-lg p-4 mb-4 ${user.approved ? 'bg-green-50' : 'bg-yellow-50'}">
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 class="font-semibold">${user.name}</h3>
                                <p class="text-sm text-gray-600">ইমেইল: ${user.email}</p>
                                <p class="text-sm text-gray-600">ফোন: ${user.phone}</p>
                                <p class="text-sm text-gray-600">এনআইডি: ${user.nid}</p>
                                <p class="text-sm text-gray-600">রেজিস্ট্রেশন: ${new Date(user.registrationDate).toLocaleDateString('bn-BD')}</p>
                            </div>
                            <div>
                                ${user.approved ? 
                                    '<span class="bg-green-500 text-white px-3 py-1 rounded-full text-sm">অনুমোদিত</span>' :
                                    `<button onclick="approveUser(${index})" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">অনুমোদন দিন</button>`
                                }
                            </div>
                        </div>
                    </div>
                `;
            });
            
            userList.innerHTML = html;
        });
        
        function approveUser(index) {
            const users = JSON.parse(localStorage.getItem('portalUsers')) || [];
            users[index].approved = true;
            localStorage.setItem('portalUsers', JSON.stringify(users));
            location.reload();
        }
    </script>
</body>
</html>